<!DOCTYPE html>
<html lang="en">
<head>
<title>JobsPortal | Home</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body,h1,h2,h3,h4,h5 {font-family: "Poppins", sans-serif}
body {font-size:16px; background-color: #121212; color: white;}
.theme-yellow { color: #FFD833 !important; }
.bg-yellow { background-color: #FFD833 !important; color: black !important; }
.w3-sidebar { background-color: #FFD833 !important; color: black !important; font-weight:bold; }
.job-card { background-color: #1e1e1e; border: 1px solid #333; border-radius: 8px; margin-bottom: 24px; padding: 20px; }
.apply-wa { background-color: #25D366; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; display: inline-block; font-weight: bold; }
.apply-mail { background-color: #fff; color: #000; padding: 10px 20px; text-decoration: none; border-radius: 4px; display: inline-block; margin-right: 10px; font-weight: bold; }
</style>
</head>
<body>

<nav class="w3-sidebar w3-collapse w3-top w3-large w3-padding" style="z-index:3;width:300px;" id="mySidebar"><br>
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-button w3-hide-large w3-display-topleft" style="width:100%;font-size:22px">Close Menu</a>
  <div class="w3-container">
    <h3 class="w3-padding-64"><b>Jobs<br>Portal</b></h3>
  </div>
  <div class="w3-bar-block">
    <a href="#" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Home</a> 
    <a href="#jobs" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Browse Jobs</a> 
    <a href="post-job.html" class="w3-bar-item w3-button w3-hover-white">Post a Job</a> 
    <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">About Service</a> 
    <a href="#contact" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Contact</a>
  </div>
</nav>

<header class="w3-container w3-top w3-hide-large bg-yellow w3-xlarge w3-padding">
  <a href="javascript:void(0)" class="w3-button bg-yellow w3-margin-right" onclick="w3_open()">‚ò∞</a>
  <span>JobsPortal</span>
</header>

<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" id="myOverlay"></div>

<div class="w3-main" style="margin-left:340px;margin-right:40px">
  <div class="w3-container" style="margin-top:80px" id="jobs">
    <h1 class="w3-jumbo"><b>Jobs Portal</b></h1>
    <h1 class="w3-xxxlarge theme-yellow"><b>Active Jobs.</b></h1>
    <hr style="width:50px;border:5px solid #FFD833" class="w3-round">
  </div>

  <div class="w3-container" id="job-list">
      <p>Searching for approved jobs...</p>
  </div>

  <div class="w3-container" id="about" style="margin-top:75px">
    <h1 class="w3-xxxlarge theme-yellow"><b>About Us.</b></h1>
    <hr style="width:50px;border:5px solid #FFD833" class="w3-round">
    <p>We provide a 100% free service for local businesses to find talent. No registration, no middle-man.</p>
  </div>

  <div class="w3-container" id="contact" style="margin-top:75px; padding-bottom: 50px;">
    <h1 class="w3-xxxlarge theme-yellow"><b>Contact.</b></h1>
    <hr style="width:50px;border:5px solid #FFD833" class="w3-round">
    <p>Questions? Send us a message.</p>
    <form action="mailto:raf@gmail.com" method="post" enctype="text/plain">
      <div class="w3-section"><label>Name</label><input class="w3-input w3-border" type="text" required></div>
      <div class="w3-section"><label>Message</label><input class="w3-input w3-border" type="text" required></div>
      <button type="submit" class="w3-button w3-block w3-padding-large bg-yellow">Send Message</button>
    </form>  
  </div>
</div>

<script>
function w3_open() { document.getElementById("mySidebar").style.display = "block"; document.getElementById("myOverlay").style.display = "block"; }
function w3_close() { document.getElementById("mySidebar").style.display = "none"; document.getElementById("myOverlay").style.display = "none"; }

fetch('jobs.json')
  .then(res => res.json())
  .then(data => {
    const list = document.getElementById('job-list');
    list.innerHTML = "";
    const active = data.filter(j => j.approved === true);
    if(active.length === 0) { list.innerHTML = "<p>No jobs available yet.</p>"; return; }
    active.forEach(job => {
      list.innerHTML += `
        <div class="job-card w3-animate-opacity">
          <h2 class="theme-yellow"><b>${job.title}</b></h2>
          <p>üè¢ ${job.company} | üìç ${job.location}</p>
          <p>${job.description}</p>
          <p><i class="fa fa-calendar"></i> Deadline: ${job.deadline}</p>
          <div class="w3-padding-16">
            <a href="mailto:${job.company_email}" class="apply-mail">Apply via Email</a>
            <a href="https://wa.me/${job.whatsapp}" target="_blank" class="apply-wa"><i class="fa fa-whatsapp"></i> WhatsApp</a>
          </div>
        </div>`;
    });
  });
</script>
</body>
</html>
