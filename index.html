<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>JobsPortal | Find Your Next Opportunity</title>
</head>
<body>

    <nav class="navbar">
        <div class="container nav-content">
            <a href="index.html" class="logo">Jobs<span style="color:var(--primary)">Portal</span></a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="#about">About</a>
                <a href="#testimonials">Testimony</a>
                <a href="post-job.html" class="btn-small">Post a Job</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="container">
            <h1>Find Your Dream Job <br><span style="color:var(--primary)">Directly on WhatsApp.</span></h1>
            <p>Simple. Fast. No Registration Required.</p>
        </div>
    </header>

    <div class="container">
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search by job title or location..." onkeyup="filterJobs()">
        </div>

        <main id="job-list">
            <p style="text-align:center; color:var(--secondary);">Loading latest jobs...</p>
        </main>

        <section id="about" class="section">
            <h2>Our <span style="color:var(--primary)">Services</span></h2>
            <div class="testimonial-grid">
                <div class="testi-card">
                    <h3>For Job Seekers</h3>
                    <p>Browse verified listings and apply instantly via Email or WhatsApp. No need to create a profile or upload a database CV.</p>
                </div>
                <div class="testi-card">
                    <h3>For Recruiters</h3>
                    <p>Post your requirements for free. Reach local talent directly without paying for expensive premium listings.</p>
                </div>
            </div>
        </section>

        <section id="testimonials" class="section">
            <h2>User <span style="color:var(--primary)">Testimonials</span></h2>
            <div class="testimonial-grid">
                <div class="testi-card">
                    <p>"The fastest way to hire. I posted a job and got 5 WhatsApp applications within an hour!"</p>
                    <small>- <b>Rajesh Kumar</b>, Manager at BlueStar</small>
                </div>
                <div class="testi-card">
                    <p>"I love that I don't have to fill out a 5-page application. Just one click to send my CV."</p>
                    <small>- <b>Priya Das</b>, Marketing Professional</small>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <h3>JobsPortal</h3>
                    <p>Connecting talent with opportunity through simplicity and speed.</p>
                </div>
                <div>
                    <h4>Legal</h4>
                    <a href="#">Terms & Conditions</a><br>
                    <a href="#">Privacy Policy</a><br>
                    <a href="#">Disclaimer</a>
                </div>
                <div>
                    <h4>Connect</h4>
                    <div class="social-links">
                        <a href="#">Facebook</a> | 
                        <a href="#">Twitter</a> | 
                        <a href="#">LinkedIn</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 JobsPortal. Designed for speed. Managed by Admin.</p>
            </div>
        </div>
    </footer>

    <script>
        function loadJobs() {
            fetch('jobs.json')
                .then(res => res.json())
                .then(data => {
                    const container = document.getElementById('job-list');
                    container.innerHTML = ""; // Clear loader
                    
                    const approvedJobs = data.filter(job => job.approved === true);

                    if(approvedJobs.length === 0) {
                        container.innerHTML = "<p style='text-align:center;'>No jobs available right now. Check back later!</p>";
                        return;
                    }

                    approvedJobs.forEach(job => {
                        container.innerHTML += `
                            <div class="job-card" data-title="${job.title.toLowerCase()}" data-loc="${job.location.toLowerCase()}">
                                <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                                    <div>
                                        <h2>${job.title}</h2>
                                        <div class="meta">üè¢ ${job.company} | üìç ${job.location}</div>
                                    </div>
                                    <div class="deadline-badge">Ends: ${job.deadline}</div>
                                </div>
                                <p class="description">${job.description}</p>
                                <div class="apply-links">
                                    <a href="mailto:${job.company_email}?subject=Application for ${job.title}" class="apply-mail">Apply by Email</a>
                                    <a href="https://wa.me/${job.whatsapp}?text=Hello, I am interested in the ${job.title} position." target="_blank" class="apply-wa">WhatsApp Apply</a>
                                </div>
                            </div>
                        `;
                    });
                })
                .catch(err => {
                    document.getElementById('job-list').innerHTML = "Error loading jobs.";
                });
        }

        function filterJobs() {
            let input = document.getElementById('searchInput').value.toLowerCase();
            let cards = document.getElementsByClassName('job-card');
            
            for (let i = 0; i < cards.length; i++) {
                let title = cards[i].getAttribute('data-title');
                let loc = cards[i].getAttribute('data-loc');
                if (title.includes(input) || loc.includes(input)) {
                    cards[i].style.display = "";
                } else {
                    cards[i].style.display = "none";
                }
            }
        }

        window.onload = loadJobs;
    </script>
</body>
</html>
